{% extends "layout.html" %}
{% from "macros.html" import link_button %}

{% block subheader %}
  Shares
{% endblock %}

{% block content %}
  <table
    class = "table table-hover"
    id = "certificates"
  >
    <thead>
      <tr>
        <th>Certificate</th>
        <th>Owner</th>
        <th>Total votes</th>
      </tr>
    </thead>
    <tbody>
    {% for c in certificates %}
      <tr id = {{ c.id }}>
        <td>{{ "%s—%s (%s shares)" % (c.first_share, c.last_share, c.share_count,) }}</td>
        <td>TBA</td>
        <td>{{ c.votes }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
  <p>
    -------- (some kind of divider element) --------
  </p>
  <p>
    {% if not last_share_number %}
      No shares issued yet!
    {% else %}
      Shares issued up to <strong>{{ last_share_number }}</strong>
    {% endif %}
  </p>
  <p>
    Unbound shares:
    <ul>
      {% for (a, b) in unbound_ranges %}
      <li>
        {{ a }}—{{ b }}
      </li>
      {% endfor %}
    </ul>
  </p>
  {{ link_button(
    "Bundle new share certificate",
    url_for('certificate.bundle')
  ) }}
  {{ link_button(
    "Issue more shares",
    url_for('share.issue')
  ) }}
{% endblock %}
