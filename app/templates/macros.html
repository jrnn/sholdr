{#
    Renders an input field stylized with Bootstrap 4. Requires WTForm field as
    parameter (field). Translates keyword arguments into html attributes as per
    default WTForm behavior. If no "class" attribute is passed in kwargs,
    defaults to "form-control".
#}
{% macro render_field(field) %}
  {% set class = kwargs.pop("class", "form-control") %}
  <div class = "form-group">
    {{ field.label }}
    {% if field.errors %}
      {{ field(class = class + " is-invalid", **kwargs) }}
      <div class = "invalid-feedback">
        {% for error in field.errors %}
          {{ error }}
        {% endfor %}
      </div>
    {% else %}
      {{ field(class = class, **kwargs) }}
    {% endif %}
  </div>
{% endmacro %}

{#
    Renders a checkbox field stylized with Bootstrap 4. Requires WTForm field as
    parameter (field). Takes no other parameters, so does not allow stylizing
    with kwargs ...
#}
{% macro render_checkbox(field) %}
  <div class = "form-group form-check">
    {{ field(class = "form-check-input") }}
    {{ field.label(class = "form-check-label") }}
  </div>
{% endmacro %}

{#
    A few simple button elements that recur throughout the app ...
#}
{% macro delete_button(label, action) %}
  <form
    action = "{{ action }}"
    method = "POST"
    onSubmit = "return confirm('Are you sure? There\'s no going back.');"
  >
    <input
      class = "btn btn-danger form-control"
      type = "submit"
      value = "{{ label }}"
    />
  </form>
{% endmacro %}

{% macro link_button(label, url) %}
  <a
    class = "btn btn-secondary form-control"
    href = "{{ url }}"
  >
    {{ label }}
  </a>
{% endmacro %}

{% macro submit_button(label) %}
  <input
    class = "btn btn-secondary form-control"
    type = "submit"
    value = "{{ label }}"
  />
{% endmacro %}
