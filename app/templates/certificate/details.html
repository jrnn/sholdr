{% extends "layout.html" %}
{% from "macros.html" import link_button %}

{% block subheader %}
  Certificate details
{% endblock %}

{% block content %}
  <form>
    <div class = "form-group">
      <label for = "shares">Shares</label>
      <input
        class = "form-control"
        id = "shares"
        readonly
        value = "{{ "%sâ€”%s" % (certificate.first_share, certificate.last_share,) }}"
      />
    </div>
    <div class = "form-group">
      <label for = "owner">Current owner</label>
      <input
        class = "form-control"
        id = "owner"
        readonly
        value = "TBA"
      />
    </div>
    <div class = "form-group">
      <label for = "votes">Total votes</label>
      <input
        class = "form-control"
        id = "votes"
        readonly
        value = "{{ total_votes }}"
      />
    </div>
    <div class = "form-group">
      <label for = "status">Status</label>
      <input
        class = "form-control"
        id = "status"
        readonly
        value = "{{ certificate.get_status() }}"
      />
    </div>
  </form>
  <div class = "divider" ></div>
  <h5 class = "padded">
    Share composition
  </h5>
  <table class = "table">
    <thead>
      <tr>
        <th>Class</th>
        <th>Quantity</th>
        <th>Sum votes</th>
      </tr>
    </thead>
    <tbody>
    {% for s in share_classes %}
      <tr>
        <td>{{ s.name }}</td>
        <td>{{ s.count }}</td>
        <td>{{ s.votes }}</td>
      <tr>
    {% endfor %}
    </tbody>
  </table>
  <div class = "divider" ></div>
  <h5 class = "padded">
    Transaction history
  </h5>
  <table class = "table">
    <thead>
      <tr>
        <th>Date</th>
        <th>Ownership transferred to</th>
        <th>Price (EUR)</th>
      </tr>
    </thead>
    <tbody>
      <td>TBA</td>
      <td>TBA</td>
      <td>TBA</td>
    </tbody>
  </table>
  {{ link_button(
    "Go back",
    url_for('share.list')
  ) }}
  {{ link_button(
    "Cancel certificate",
    url_for('certificate.cancel', id = certificate.id)
  ) }}
{% endblock %}
